class ProjectModal{static defaultOptions={animationDuration:300,closeOnEsc:!0,closeOnOverlayClick:!0};constructor(e={}){this.options={...ProjectModal.defaultOptions,...e},this.isOpen=!1,this.init()}init(){this.createModal(),this.bindEvents()}createModal(){this.modal=document.createElement("div"),this.modal.className="project-modal",this.modal.setAttribute("role","dialog"),this.modal.setAttribute("aria-modal","true"),this.modal.setAttribute("aria-hidden","true"),this.modal.innerHTML='\n            <div class="modal-overlay" tabindex="-1" data-modal-close></div>\n            <div class="modal-content" role="document">\n                <button class="modal-close" aria-label="Close modal">&times;</button>\n                <div class="modal-body">\n                    <div class="project-media"></div>\n                    <div class="project-details">\n                        <h2 class="project-title"></h2>\n                        <div class="project-description"></div>\n                        <div class="project-technologies"></div>\n                        <div class="project-links">\n                            <a href="#" class="btn btn-primary project-link" target="_blank" rel="noopener">View Project</a>\n                            <a href="#" class="btn btn-outline" target="_blank" rel="noopener">View Code</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ',document.body.appendChild(this.modal),this.overlay=this.modal.querySelector(".modal-overlay"),this.closeButton=this.modal.querySelector(".modal-close"),this.titleElement=this.modal.querySelector(".project-title"),this.descriptionElement=this.modal.querySelector(".project-description"),this.technologiesElement=this.modal.querySelector(".project-technologies"),this.mediaElement=this.modal.querySelector(".project-media"),this.projectLink=this.modal.querySelector(".project-link"),this.codeLink=this.modal.querySelector(".btn-outline")}bindEvents(){this.closeButton.addEventListener("click",()=>this.close()),this.overlay.addEventListener("click",()=>{this.options.closeOnOverlayClick&&this.close()}),this.options.closeOnEsc&&document.addEventListener("keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){"Escape"===e.key&&this.isOpen&&this.close(),"Tab"===e.key&&this.isOpen&&this.trapFocus(e)}trapFocus(e){const t=this.modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=t[0],o=t[t.length-1];e.shiftKey&&document.activeElement===i?(e.preventDefault(),o.focus()):e.shiftKey||document.activeElement!==o||(e.preventDefault(),i.focus())}open(e){if(this.isOpen)return;this.updateContent(e),this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add("active"),document.body.style.overflow="hidden",this.isOpen=!0,this.modal.focus();const t=new CustomEvent("projectModal:open",{detail:{project:e}});document.dispatchEvent(t)}close(){this.isOpen&&(this.modal.setAttribute("aria-hidden","true"),this.modal.classList.remove("active"),document.body.style.overflow="",this.isOpen=!1,document.dispatchEvent(new CustomEvent("projectModal:close")))}updateContent(e){if(this.titleElement.textContent=e.title,this.descriptionElement.innerHTML=e.description,this.technologiesElement.innerHTML="",e.technologies&&e.technologies.length>0){const t=document.createElement("ul");t.className="tech-list",e.technologies.forEach(e=>{const i=document.createElement("li");i.textContent=e,t.appendChild(i)}),this.technologiesElement.appendChild(t)}if(this.mediaElement.innerHTML="",e.media&&e.media.url)if("image"===e.media.type){const t=document.createElement("img");t.src=e.media.url,t.alt=e.title,this.mediaElement.appendChild(t)}else if("video"===e.media.type){const t=document.createElement("video");t.src=e.media.url,t.controls=!0,this.mediaElement.appendChild(t)}e.projectUrl?(this.projectLink.href=e.projectUrl,this.projectLink.style.display="inline-block"):this.projectLink.style.display="none",e.codeUrl?(this.codeLink.href=e.codeUrl,this.codeLink.style.display="inline-block"):this.codeLink.style.display="none"}destroy(){this.closeButton.removeEventListener("click",this.close),this.overlay.removeEventListener("click",this.close),document.removeEventListener("keydown",this.handleKeyDown),this.modal&&this.modal.parentNode&&this.modal.parentNode.removeChild(this.modal)}}document.addEventListener("DOMContentLoaded",()=>{const e=new ProjectModal;document.addEventListener("click",t=>{const i=t.target.closest(".project-card");if(i){t.preventDefault();try{const t={title:i.dataset.title||"Project",description:i.dataset.description||"No description available.",technologies:i.dataset.technologies?JSON.parse(i.dataset.technologies):[],projectUrl:i.dataset.projectUrl||"#",codeUrl:i.dataset.codeUrl||"#",media:{type:i.dataset.mediaType||"image",url:i.dataset.mediaUrl||""}};e.open(t)}catch(e){console.error("Error opening project modal:",e)}}}),console.log("Project modal system initialized")}),window.ProjectModal=ProjectModal;